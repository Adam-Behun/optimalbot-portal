services:
  stt:
    provider: deepgram
    use_flux: true
    api_key: ${DEEPGRAM_API_KEY}

  llm:
    provider: openai  # The LLM provider (e.g., openai, grok).
    model: gpt-4o-mini  # Model name; gpt-4o-mini is faster/cheaper for low-latency responses.
    temperature: 0.4  # Sampling temperature (0-2); higher values make output more creative/random, lower more deterministic/focused.
    api_key: ${OPENAI_API_KEY}  # API authentication key.
    max_tokens: 100  # Maximum tokens in response; limits output length to prevent long delays in generation.
    top_p: 0.85  # Nucleus sampling (0-1); considers top probability mass for diversity; lower focuses on likely tokens for consistency.
    frequency_penalty: 0.5  # Penalty for repeating tokens ( -2 to 2); positive values reduce repetition for more natural dialogue.
    presence_penalty: 0.3  # Encourages staying on topic
    seed: 42  # Deterministic outputs for consistency

  classifier_llm:
    provider: openai
    model: gpt-4o-mini
    temperature: 0  # Deterministic classification
    api_key: ${OPENAI_API_KEY}
    max_tokens: 10  # Only need "<mode>conversation</mode>"

  tts:
    provider: elevenlabs
    model: eleven_turbo_v2_5
    voice_id: aMSt68OGf4xUZAnLpTU8
    stability: 0.5
    api_key: ${ELEVENLABS_API_KEY}
    similarity_boost: 0.75
    optimize_streaming_latency: 0
    output_format: pcm_24000
    style: 0.0
    speed: 0.95  # TEST: Slightly faster speech for testing

  transport:
    provider: daily  # The transport/telephony provider (e.g., daily, twilio).
    api_key: ${DAILY_API_KEY}  # API authentication key for room creation/access.
    phone_number_id: ${DAILY_PHONE_NUMBER_ID}  # ID for outbound dialing number; required for telephony.
    enable_echo_cancellation: true  # Enables server-side echo cancellation; reduces feedback/loops in calls for clearer audio.
    audio_in_sample_rate: 16000  # Input audio sample rate (Hz); 16000 is standard for telephony to minimize processing latency.
    audio_out_sample_rate: 24000  # Output audio sample rate (Hz); matches input for efficient streaming without resampling delays.
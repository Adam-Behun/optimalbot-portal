services:
  stt:
    api_key: ${DEEPGRAM_API_KEY}
    model: flux-general-en
    # Increased thresholds to prevent LLM from responding before human finishes speaking
    # Lower values = more aggressive interruption (faster but incomplete utterances)
    # Higher values = wait for complete utterances (slower but more accurate)
    eager_eot_threshold: 0.75    # Raised from 0.5 - wait for higher confidence before eager turn end
    eot_threshold: 0.8           # Raised from 0.7 - ensure complete utterances
    eot_timeout_ms: 3000         # Raised from 2500ms - allow more time for complex introductions

  llm:
    provider: openai  # Main LLM for conversation and IVR navigation
    model: gpt-4o-mini  # Capable model for complex tasks
    temperature: 0.4  # Sampling temperature (0-2); higher values make output more creative/random, lower more deterministic/focused.
    api_key: ${OPENAI_API_KEY}  # API authentication key.
    max_tokens: 150  # Maximum tokens in response; limits output length to prevent long delays in generation.

  classifier_llm:
    provider: groq
    model: llama-3.1-8b-instant  # Fastest production model for classification (560 t/s)
    temperature: 0  # Deterministic classification
    api_key: ${GROQ_API_KEY}
    max_tokens: 150

  tts:
    provider: elevenlabs
    model: eleven_turbo_v2_5
    voice_id: aMSt68OGf4xUZAnLpTU8
    api_key: ${ELEVENLABS_API_KEY}

    # Voice Quality & Character Settings (0.0 - 1.0)
    stability: 0.55                    # Voice consistency; 0.5-0.6 = natural with slight variation; higher = more robotic but clearer
    similarity_boost: 0.80             # Voice fidelity to original; 0.75-0.85 = high quality; higher may add artifacts
    style: 0.15                        # Expressiveness; 0.1-0.3 = professional with subtle emotion; 0 = monotone
    use_speaker_boost: true            # Enhanced clarity for phone calls; recommended for telephony

    # Speed & Timing (0.7 - 1.2 for turbo models)
    speed: 0.92                        # Slightly slower for clarity on IDs; 0.9-0.95 = professional pace; 1.0 = default

    # Text Processing
    apply_text_normalization: auto     # 'auto' | 'on' | 'off'; auto intelligently handles numbers/dates
    enable_ssml_parsing: true          # Enable SSML tags for granular control (breaks, emphasis, prosody)

    # Performance Optimization
    auto_mode: true                    # Automatic latency optimization; recommended for real-time
    aggregate_sentences: true          # Buffer sentences for natural prosody; improves flow

    # Optional: Enable for debugging
    # enable_logging: false            # ElevenLabs API logging

    # Optional: Pronunciation Dictionaries (create via ElevenLabs dashboard)
    # pronunciation_dictionary_locators:
    #   - pronunciation_dictionary_id: "your_dict_id_here"
    #     version_id: "latest"

  transport:
    provider: daily  # The transport/telephony provider (e.g., daily, twilio).
    api_key: ${DAILY_API_KEY}  # API authentication key for room creation/access.
    phone_number_id: ${DAILY_PHONE_NUMBER_ID}  # ID for outbound dialing number; required for telephony.
    enable_echo_cancellation: true  # Enables server-side echo cancellation; reduces feedback/loops in calls for clearer audio.
    audio_in_sample_rate: 16000  # Input audio sample rate (Hz); 16000 is standard for telephony to minimize processing latency.
    audio_out_sample_rate: 24000  # Output audio sample rate (Hz); matches input for efficient streaming without resampling delays.
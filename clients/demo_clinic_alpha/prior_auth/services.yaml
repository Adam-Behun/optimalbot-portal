# Call type determines how calls are initiated
# dial-out: Bot calls the user (outbound)
# dial-in: User calls the bot (inbound)
call_type: "dial-out" # number: +1 516-202-8655

services:
  stt:
    api_key: ${DEEPGRAM_API_KEY}
    model: flux-general-en
    eager_eot_threshold: 0.55
    eot_threshold: 0.65
    eot_timeout_ms: 3500

  llm:
    provider: openai  # Main LLM for conversation and IVR navigation
    model: gpt-4o-mini  # Capable model for complex tasks
    temperature: 0.4  # Sampling temperature (0-2); higher values make output more creative/random, lower more deterministic/focused.
    api_key: ${OPENAI_API_KEY}  # API authentication key.
    max_tokens: 256  # Maximum tokens in response; limits output length to prevent long delays in generation.

  classifier_llm:
    provider: groq
    model: llama-3.3-70b-versatile #llama-3.1-8b-instant  # Fastest production model for classification (560 t/s)
    temperature: 0  # Deterministic classification
    api_key: ${GROQ_API_KEY}
    max_tokens: 512

  tts:
    provider: cartesia  # Switch between 'cartesia' or 'elevenlabs' per client
    model: sonic-3-2025-10-27
    voice_id: 829ccd10-f8b3-43cd-b8a0-4aeaa81f3b30
    api_key: ${CARTESIA_API_KEY}

    # Cartesia Sonic-3 Generation Config
    # Sonic-3 interprets these parameters as guidance for natural speech
    generation_config:
      speed: 0.95        # Speed multiplier; valid range: [0.6, 1.5]; default = 1.0; roughly multiplies default speed (e.g., 1.5 = 1.5x faster)
      volume: 1.0        # Volume multiplier; valid range: [0.5, 2.0]; default = 1.0; roughly multiplies default volume (e.g., 1.5 = 1.5x louder)
      emotion: neutral   # Single emotion string (neutral, angry, excited, content, sad, scared, etc.)

    # Performance Optimization
    aggregate_sentences: true  # Buffer sentences for natural prosody; improves flow

    # --- ElevenLabs Alternative Configuration (uncomment to switch back) ---
    # provider: elevenlabs
    # model: eleven_turbo_v2_5
    # voice_id: aMSt68OGf4xUZAnLpTU8
    # api_key: ${ELEVENLABS_API_KEY}
    # stability: 0.55
    # similarity_boost: 0.80
    # style: 0.15
    # use_speaker_boost: true
    # speed: 0.92
    # apply_text_normalization: auto
    # enable_ssml_parsing: true
    # auto_mode: true
    # aggregate_sentences: true

  transport:
    provider: daily  # The transport/telephony provider (e.g., daily, twilio).
    api_key: ${DAILY_API_KEY}  # API authentication key for room creation/access.
    phone_number_id: ${DAILY_PHONE_NUMBER_ID}  # ID for outbound dialing number; required for telephony.
    enable_echo_cancellation: true  # Enables server-side echo cancellation; reduces feedback/loops in calls for clearer audio.
    audio_in_sample_rate: 16000  # Input audio sample rate (Hz); 16000 is standard for telephony to minimize processing latency.
    audio_out_sample_rate: 24000  # Output audio sample rate (Hz); matches input for efficient streaming without resampling delays.